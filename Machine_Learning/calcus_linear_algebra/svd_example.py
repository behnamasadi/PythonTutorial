import numpy as np

np.set_printoptions(threshold=np.nan)
np.set_printoptions(suppress=True)

A=np.array(
[
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 105261.1653437592, 109326.4444846027, 361.8841134462955, 87958.06504134822, 91355.08317157502, 302.3966748229347, 290.8698155918916, 302.1034646795209, 1],
[ 121378.406957288, 117855.043150928, 389.8669031966265, 94316.60693242586, 91578.79114183525, 302.9445219008164, 311.3329342964815, 302.2955839149256, 1],
[ 132154.1093819897, 123557.0685210783, 408.1094536809982, 98378.7406621456, 91978.89386757645, 303.8066261670444, 323.8202599572442, 302.7547326008715, 1],
[ 126067.7332270201, 119799.1727640287, 394.6809447514727, 97322.0465103537, 92482.82939019168, 304.6866654823021, 319.4168223814399, 303.5342201267538, 1],
[ 97386.47709233478, 104156.2001146509, 342.0830541769516, 86769.04317489713, 92800.70595543401, 304.7878944130823, 284.6866452553333, 304.4763511166892, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 101278.2203903822, 115502.7556485921, 354.930703628526, 93619.37440196083, 106768.2240450447, 328.0901886078746, 285.346461590939, 325.4233980542816, 1],
[ 113207.3278346053, 129335.5340213301, 375.0952082399548, 106895.9640137674, 122125.0148280536, 354.1834671721505, 301.809581534789, 344.8072147554387, 1],
[ 121014.0070766246, 138152.6138774767, 387.5950384003721, 116210.3645963525, 132668.6556083958, 372.2094806737875, 312.2176371917882, 356.4354550245039, 1],
[ 116661.8832948219, 132575.9382052126, 377.5477959057577, 112301.3302148363, 127620.5543270716, 363.4359269920854, 308.9989785662601, 351.1500785937731, 1],
[ 95431.30487206751, 107318.6352043373, 338.7437662226789, 89503.21068047642, 100652.1123179828, 317.7013529844405, 281.721213459421, 316.813609298391, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 91553.76429513402, 114754.5965559896, 338.3027133096472, 92036.08552770622, 115359.1438280798, 340.0849511337527, 270.6267514069129, 339.2068465349704, 1],
[ 94054.23956781786, 127144.7451852152, 341.6511667088701, 103303.8813587481, 139648.6296880967, 375.2504060842713, 275.2931900506693, 372.1478442763772, 1],
[ 95663.07366970574, 134615.4288202047, 342.7990377829353, 111036.44890855, 156248.5775452419, 397.8879873346441, 279.0645921540795, 392.6948852914952, 1],
[ 94905.53776103954, 129820.7902953154, 339.3725664384827, 108101.7041172821, 147871.757453305, 386.5607174054295, 279.6499986932292, 382.5317752041921, 1],
[ 90569.96724613145, 107024.8665635213, 330.5335662889924, 88798.2770089714, 104931.2927554547, 324.0678126815469, 274.0114060517056, 323.7942450599623, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 81040.35704629689, 107901.2249307308, 320.9510329200015, 84306.7007510376, 112250.1999307417, 333.8870122779081, 252.5006893076321, 336.192172210973, 1],
[ 74290.66927604277, 114195.3783082525, 309.3273279792149, 86708.67459482532, 133283.6276002745, 361.0327230378836, 240.1684641359417, 369.173260747029, 1],
[ 70300.09633933198, 117963.0287399831, 301.5525668639391, 88012.63043561745, 147684.5266817867, 377.530558367936, 233.1271694034409, 391.1856230134765, 1],
[ 72777.75216816147, 115299.2210341523, 303.2659104607637, 88694.54012901855, 140515.6257537178, 369.5913883541569, 239.9799966227243, 380.1918285473422, 1],
[ 85190.18430599828, 103529.092695493, 321.6111211042834, 85074.99108700782, 103389.1018087035, 321.1762421260896, 264.8856918053375, 321.9076888262312, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 74465.38323265346, 98088.2982462958, 310.4724810461385, 75332.85520293514, 99230.96139590246, 314.0892780484432, 239.8453575716018, 315.9323425889045, 1],
[ 62222.7802124601, 96097.86700131428, 290.9608999645858, 69277.59444773443, 106993.4360804441, 323.950025361579, 213.8527211733037, 330.2775974813482, 1],
[ 54982.94687323624, 95017.52616136477, 278.9600462948312, 65033.8272981175, 112386.7260319663, 329.9539312732567, 197.0997194885934, 340.6133868394234, 1],
[ 59348.88637097037, 95162.35857659804, 283.0865926365879, 68706.66908966453, 110166.99857931, 327.7220186142592, 209.6492307113938, 336.1598925978195, 1],
[ 81772.38074924427, 98463.10121620535, 316.0377409369697, 80428.83056738692, 96845.31638062693, 310.8451250388007, 258.7424543246336, 311.5548824146377, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 74551.00505904917, 89519.35440060038, 310.6069519925707, 69500.35560158562, 83454.63564358614, 289.5640856714109, 240.0171811377626, 288.2078260847863, 1],
[ 62379.19989844489, 79872.23625908789, 291.1914166098573, 59904.04913057738, 76702.97748004245, 279.6372020705284, 214.2205997164453, 274.2946107031099, 1],
[ 55181.53216697575, 74059.24654323641, 279.2399514913579, 54204.89753127765, 72748.50321249729, 274.2978015077022, 197.6133138265623, 265.2172303701623, 1],
[ 59522.85050202344, 76973.48537099564, 283.3383764093003, 58452.254937359, 75589.01753486352, 278.2421687088188, 210.0769096525029, 271.6662894256249, 1],
[ 81817.10615293743, 94100.50955146555, 316.1101774468056, 77084.22668278491, 88657.07124463376, 297.8241314169247, 258.8246503600963, 297.6826317694267, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 81262.58092658188, 86157.54517393144, 321.3104350141254, 68315.10634119094, 72430.16150287887, 270.1164088838839, 252.909871797377, 268.1442486302812, 1],
[ 74701.33585320266, 73094.67590932266, 309.9721158215462, 58599.7393571959, 57339.38901845456, 243.1587733696785, 240.993728275252, 235.8104880356527, 1],
[ 70822.22295795119, 65047.74972216249, 302.3565756788386, 53289.17421138083, 48944.25396758111, 227.5039043164806, 234.2341085155632, 215.135885753832, 1],
[ 73235.35486253316, 69278.19512081664, 303.9787282211662, 57141.37586968135, 54053.82952540228, 237.1772868210632, 240.9226306429219, 227.9047469085133, 1],
[ 85305.05632520682, 92467.71076711365, 321.7997568469302, 76280.4837159061, 82685.38829079574, 287.7559920758342, 265.0873858981307, 287.3454960722595, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 91817.99357627462, 89894.97022102366, 338.7475455917158, 71699.22241777387, 70197.5638224118, 264.5226133663994, 271.0513914304212, 265.3745285858746, 1],
[ 94561.82363141396, 79891.60970807323, 342.5131488458064, 63525.10887510792, 53669.89563034396, 230.0948124308139, 276.0823166937281, 233.2512196313931, 1],
[ 96323.21044188055, 73607.95202001187, 343.9258705905567, 58456.88268347096, 44671.38705266338, 208.7226347283517, 280.0696855880121, 214.0227249948349, 1],
[ 95477.50952256935, 76832.15928598127, 340.3459401265222, 62210.54286544154, 50061.74084981877, 221.7601381015812, 280.5307725635745, 225.7472478073904, 1],
[ 90703.60903968969, 94422.43435457327, 330.7574470529121, 78235.06275195429, 81442.68078340621, 285.2899669575189, 274.2299828707397, 285.473343671891, 1],
[ 88841.6547456956, 100923.3678627889, 334.0344715590589, 80357.38569251323, 91285.31002660609, 302.1345892588369, 265.9655284409411, 302.1345892588369, 1],
[ 101458.0302730225, 99228.89527699065, 355.2429101016162, 79147.79747744114, 77408.8407409361, 277.1263529200973, 285.6018442254082, 279.3268843806243, 1],
[ 113571.7016364076, 97997.75446555155, 375.7481166625144, 76312.83016285075, 65848.14601803072, 252.4784061321607, 302.2548792664056, 260.807040993289, 1],
[ 121506.2162012926, 97283.19247244285, 388.4920997989268, 73915.53682378521, 59180.01251573613, 236.3303130176128, 312.7636733518673, 250.4122799995008, 1],
[ 117079.6060638805, 97277.26072987683, 378.3015231987913, 76346.26421666049, 63433.38263287281, 246.6860712525938, 309.4875354291319, 257.1421333631776, 1],
[ 95520.03834282214, 99112.54687094566, 338.8948646971581, 82317.63660363949, 85413.60281810207, 292.0541574623076, 281.8574380823987, 292.4580959924377, 1]
]
)





u, s, vh=np.linalg.svd(A, full_matrices=True)





ANumberOFColumns=A.shape[1]

S = np.zeros((A.shape))

#print(A.shape)

print(u.shape)
print(s.shape)
print(vh.shape)

#print(S.shape)


S[:ANumberOFColumns, :ANumberOFColumns] = np.diag(s)

#print(np.sum( np.sum(A- np.dot(np.dot(u, S  ),vh)))  )

#print(s)
print(u)




P=np.array([ [3,7,2] , [1,4,5]]  )
W= np.dot(X,P.T)
print(W)
u,s,vh=np.linalg.svd(W , full_matrices=True)
#print('-------------------------------------'
# print(u
# print('-------------------------------------'
# print(s
# print('-------------------------------------'
# print(vh
# print('-------------------------------------'
#print(np.dot(u[:, :2]*s,vh   )


#SVD decomposes the matrix X effectively into rotations P and Q and the diagonal matrix D. The version of linalg.svd() I have returns forward rotations for P and Q. You don't want to transform Q

print(np.matmul( np.matmul(u,np.diag(s)), vh ))



